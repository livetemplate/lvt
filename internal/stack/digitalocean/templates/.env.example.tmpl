# DigitalOcean App Platform Environment Variables
# Set these in the App Platform console under Settings â†’ Environment Variables

{{- if eq .Database "postgres" }}
# PostgreSQL Database
# Automatically set when you attach a managed database in the console
# DATABASE_URL=postgres://user:pass@host:25060/dbname?sslmode=require
{{- end }}

{{- if eq .Backup "litestream" }}
# Litestream Backup Configuration
STORAGE_BUCKET=your-bucket-name
{{- if eq .Storage "s3" }}
STORAGE_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-access-key-id
AWS_SECRET_ACCESS_KEY=your-secret-access-key
{{- end }}
{{- if eq .Storage "b2" }}
STORAGE_REGION=us-west-004
B2_APPLICATION_KEY_ID=your-key-id
B2_APPLICATION_KEY=your-application-key
{{- end }}
{{- if eq .Storage "do-spaces" }}
STORAGE_BUCKET=your-bucket-name
STORAGE_REGION=nyc3
STORAGE_ENDPOINT=https://nyc3.digitaloceanspaces.com
STORAGE_ACCESS_KEY=your-access-key
STORAGE_SECRET_KEY=your-secret-key
{{- end }}
{{- end }}

{{- if eq .Redis "upstash" }}
# Upstash Redis
REDIS_URL=redis://default:your-password@your-endpoint.upstash.io:6379
{{- end }}

# Application Configuration
PORT=8080
{{- if eq .Database "sqlite" }}
DATABASE_PATH=/data/app.db
{{- end }}
