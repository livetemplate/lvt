{{/* Detail page for page mode - view/edit a single resource */}}
{{define "detailPage"}}
  {{if .Editing[[.ResourceName]]}}
  {{if .IsEditingMode}}
  <!-- Edit Mode -->
  <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 2rem; padding-bottom: 1rem; border-bottom: 1px solid #e5e7eb;">
    <a href="/[[.ResourceNameLower]]/{{.EditingID}}"[[if ne (buttonClass .CSSFramework "secondary") ""]] class="[[buttonClass .CSSFramework "secondary"]]"[[end]] style="margin-right: auto; text-decoration: none;">
      ← Back
    </a>
  </div>

  {{template "editForm" .}}
  {{else}}
  <!-- View Mode -->
  <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 2rem; padding-bottom: 1rem; border-bottom: 1px solid #e5e7eb;">
    <a href="/[[.ResourceNameLower]]"[[if ne (buttonClass .CSSFramework "secondary") ""]] class="[[buttonClass .CSSFramework "secondary"]]"[[end]] style="margin-right: auto; text-decoration: none;">
      ← Back
    </a>
    <a href="/[[.ResourceNameLower]]/{{.EditingID}}/edit"[[if ne (buttonClass .CSSFramework "primary") ""]] class="[[buttonClass .CSSFramework "primary"]]"[[end]] style="text-decoration: none;">
      Edit
    </a>
    <button[[if ne (buttonClass .CSSFramework "danger") ""]] class="[[buttonClass .CSSFramework "danger"]]"[[end]] lvt-click="delete" lvt-data-id="{{.EditingID}}" lvt-confirm="Are you sure you want to delete this [[.ResourceNameLower]]?">
      Delete
    </button>
  </div>

  <!-- Detail Content -->
  <h2[[if ne (subtitleClass .CSSFramework) ""]] class="[[subtitleClass .CSSFramework]]"[[end]]>[[.ResourceNameSingular]] Details</h2>

  <div style="max-width: 600px;">
[[- range .Fields]]
    <div[[if ne (fieldClass $.CSSFramework) ""]] class="[[fieldClass $.CSSFramework]]"[[end]]>
      <label[[if ne (labelClass $.CSSFramework) ""]] class="[[labelClass $.CSSFramework]]"[[end]] style="font-weight: 600;">[[.Name | title]]</label>
      <div style="padding: 0.5rem 0;">
[[- if .IsTextarea]]
        <div style="white-space: pre-wrap;">{{$.Editing[[$.ResourceName]].[[.Name | camelCase]]}}</div>
[[- else if eq .GoType "bool"]]
        {{if $.Editing[[$.ResourceName]].[[.Name | camelCase]]}}✓ Yes{{else}}✗ No{{end}}
[[- else if eq .GoType "time.Time"]]
        {{$.Editing[[$.ResourceName]].[[.Name | camelCase]].Format "2006-01-02 15:04"}}
[[- else]]
        {{$.Editing[[$.ResourceName]].[[.Name | camelCase]]}}
[[- end]]
      </div>
    </div>
[[- end]]
  </div>
  {{end}}
  {{end}}
{{end}}
